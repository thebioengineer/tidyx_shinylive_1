[{"name":"app.R","content":"## Simplified app from last week!\r\nlibrary(shiny)\r\nlibrary(ggplot2)\r\n\r\n## base R!s\r\nd <- mtcars\r\nd$car_types <- rownames(d)\r\nd <- d[,c(\"car_types\",\"mpg\", \"cyl\", \"am\", \"disp\", \"wt\")]\r\nd$cyl <- as.factor(d$cyl)\r\nd$am <- as.factor(d$am)\r\n\r\n### UI\r\nui <- fluidPage(\r\n  \r\n  title = \"Cars!\",\r\n  \r\n  sidebarPanel(\r\n    \r\n    selectInput(inputId = \"cyl\",\r\n                label = \"Cylinders\",\r\n                choices = sort(unique(d$cyl)),\r\n                selected = NULL,\r\n                multiple = FALSE),\r\n    \r\n    selectInput(inputId = \"am\",\r\n                label = \"Transmission\",\r\n                choices = sort(unique(d$am)),\r\n                selected = NULL,\r\n                multiple = FALSE)\r\n    \r\n    \r\n  ),\r\n  \r\n  mainPanel(\r\n    plotOutput(outputId = 'xy_plt'),\r\n    plotOutput(outputId = \"hist_plt\"),\r\n    tableOutput(outputId = \"tbl\")\r\n  )\r\n)\r\n\r\n\r\n### Server\r\nserver <- function(input, output, session){\r\n  \r\n  ## get data\r\n  dat <- reactive({\r\n    d[d$cyl == input$cyl & d$am == input$am, ]\r\n  })\r\n  \r\n  ## xy plot\r\n  output$xy_plt <- renderPlot({\r\n    \r\n    dat() %>%\r\n      ggplot(aes(x = disp, y = mpg)) +\r\n      geom_jitter(size = 5,\r\n                  color = \"green\") +\r\n      geom_smooth(method = \"lm\",\r\n                  se = FALSE,\r\n                  color = \"black\",\r\n                  size = 1.2) +\r\n      theme_light()\r\n    \r\n  })\r\n  \r\n  ## hist plot\r\n  output$hist_plt <- renderPlot({\r\n    \r\n    dat() %>%\r\n      ggplot(aes(x = \"1\", y = wt)) +\r\n      geom_boxplot(color = \"black\",\r\n                   fill = \"light grey\") +\r\n      theme_light()\r\n    \r\n  })\r\n  \r\n  ## table of car types\r\n  output$tbl <- renderTable({\r\n    dat()[,\"car_types\"]\r\n  })\r\n}\r\n\r\n\r\n## Shiny app must return a shinyapp\r\nshiny::shinyApp(ui = ui, server = server)\r\n","type":"text"},{"name":"DESCRIPTION","content":"Title: mtcars shiny!\r\nAuthor: TidyX\r\nAuthorUrl: https://github.com/thebioengineer/TidyX\r\nLicense: MIT\r\nDisplayMode: Showcase\r\n","type":"text"}]
